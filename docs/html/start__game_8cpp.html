<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>exprob_ass2: src/start_game.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">exprob_ass2
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Package for the second assignment of the course experimental robotics laboratory</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">start_game.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>this node implements the start_game action.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;exprob_ass2/start_game.h&quot;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;moveit/move_group_interface/move_group_interface.h&gt;</code><br />
<code>#include &lt;actionlib/client/simple_action_client.h&gt;</code><br />
<code>#include &lt;actionlib/client/terminal_state.h&gt;</code><br />
<code>#include &lt;exprob_ass2/TargetAction.h&gt;</code><br />
<code>#include &lt;exprob_ass2/ErlOracle.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for start_game.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="start__game_8cpp__incl.png" border="0" usemap="#src_2start__game_8cpp" alt=""/></div>
<map name="src_2start__game_8cpp" id="src_2start__game_8cpp">
<area shape="rect" title="this node implements the start_game action." alt="" coords="595,5,742,32"/>
<area shape="rect" href="start__game_8h_source.html" title=" " alt="" coords="25,87,219,114"/>
<area shape="rect" title=" " alt="" coords="243,87,318,114"/>
<area shape="rect" title=" " alt="" coords="342,80,561,121"/>
<area shape="rect" title=" " alt="" coords="585,80,752,121"/>
<area shape="rect" title=" " alt="" coords="776,80,953,121"/>
<area shape="rect" title=" " alt="" coords="977,87,1179,114"/>
<area shape="rect" title=" " alt="" coords="1203,87,1382,114"/>
<area shape="rect" title=" " alt="" coords="5,177,84,203"/>
<area shape="rect" title=" " alt="" coords="108,169,291,211"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae8742f55cc6fb01cc646b1646808b1c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="start__game_8cpp.html#ae8742f55cc6fb01cc646b1646808b1c7">hint_callback</a> (const exprob_ass2::ErlOracle::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:ae8742f55cc6fb01cc646b1646808b1c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function of the subscriber to the /oracle_hint topic.  <a href="start__game_8cpp.html#ae8742f55cc6fb01cc646b1646808b1c7">More...</a><br /></td></tr>
<tr class="separator:ae8742f55cc6fb01cc646b1646808b1c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0eda1ee290b35c91ae3e8a4224c3083"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="start__game_8cpp.html#ac0eda1ee290b35c91ae3e8a4224c3083">move_to</a> (double xpos, double ypos, double orientation)</td></tr>
<tr class="memdesc:ac0eda1ee290b35c91ae3e8a4224c3083"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to make the robot move in the enviornment.  <a href="start__game_8cpp.html#ac0eda1ee290b35c91ae3e8a4224c3083">More...</a><br /></td></tr>
<tr class="separator:ac0eda1ee290b35c91ae3e8a4224c3083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba68c5d88b43bf85a3b20441ba370229"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="start__game_8cpp.html#aba68c5d88b43bf85a3b20441ba370229">default_pose</a> ()</td></tr>
<tr class="memdesc:aba68c5d88b43bf85a3b20441ba370229"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to move the arm in the default position.  <a href="start__game_8cpp.html#aba68c5d88b43bf85a3b20441ba370229">More...</a><br /></td></tr>
<tr class="separator:aba68c5d88b43bf85a3b20441ba370229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada5a3bd00aa0de489085f99334d22d68"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="start__game_8cpp.html#ada5a3bd00aa0de489085f99334d22d68">high_pose</a> ()</td></tr>
<tr class="memdesc:ada5a3bd00aa0de489085f99334d22d68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to move the arm in the high position.  <a href="start__game_8cpp.html#ada5a3bd00aa0de489085f99334d22d68">More...</a><br /></td></tr>
<tr class="separator:ada5a3bd00aa0de489085f99334d22d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaab7523dc18170184179915b180cd87a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="start__game_8cpp.html#aaab7523dc18170184179915b180cd87a">low_pose</a> ()</td></tr>
<tr class="memdesc:aaab7523dc18170184179915b180cd87a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to move the arm in the low position.  <a href="start__game_8cpp.html#aaab7523dc18170184179915b180cd87a">More...</a><br /></td></tr>
<tr class="separator:aaab7523dc18170184179915b180cd87a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="start__game_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function of the start_game action.  <a href="start__game_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0b272e217c5e30fa3cbfc54c7cf34cb2"><td class="memItemLeft" align="right" valign="top"><a id="a0b272e217c5e30fa3cbfc54c7cf34cb2"></a>
ros::Subscriber&#160;</td><td class="memItemRight" valign="bottom"><b>hint_sub</b></td></tr>
<tr class="separator:a0b272e217c5e30fa3cbfc54c7cf34cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc463dcceedde7867915f81c8218c9cc"><td class="memItemLeft" align="right" valign="top"><a id="adc463dcceedde7867915f81c8218c9cc"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>marker_z1</b> = 0.0</td></tr>
<tr class="separator:adc463dcceedde7867915f81c8218c9cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e548a1c14afb5771ccec66772c00a6f"><td class="memItemLeft" align="right" valign="top"><a id="a4e548a1c14afb5771ccec66772c00a6f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>marker_z2</b> = 0.0</td></tr>
<tr class="separator:a4e548a1c14afb5771ccec66772c00a6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c5c09eda0d71980588665ffeba32306"><td class="memItemLeft" align="right" valign="top"><a id="a0c5c09eda0d71980588665ffeba32306"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>marker_z3</b> = 0.0</td></tr>
<tr class="separator:a0c5c09eda0d71980588665ffeba32306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a19c13fedd8eff486df6f10d472422a"><td class="memItemLeft" align="right" valign="top"><a id="a1a19c13fedd8eff486df6f10d472422a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>marker_z4</b> = 0.0</td></tr>
<tr class="separator:a1a19c13fedd8eff486df6f10d472422a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9823843215c625c9eb29b35b7f153c98"><td class="memItemLeft" align="right" valign="top"><a id="a9823843215c625c9eb29b35b7f153c98"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>collected</b> = false</td></tr>
<tr class="separator:a9823843215c625c9eb29b35b7f153c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>this node implements the start_game action. </p>
<dl class="section author"><dt>Author</dt><dd>Serena Paneri </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>5/1/2023</dd></dl>
<p>Subscribes to: <br  />
 /oracle_hint</p>
<p>Publishes to: <br  />
 None</p>
<p>Serivces: <br  />
 None</p>
<p>Client Services: <br  />
 None</p>
<p>Action Client: <br  />
 /go_to_point</p>
<p>Description: <br  />
 In this node is implemented the first action of the plan when the simulation starts. This node simply perform a complete first tour moving the arm both in the high position and then in the low position. This is done only to know the z poistion of the sphere in the environment, in a way that, in the following rounds the robot already knows the position of those spheres and positions directly in the right position. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aba68c5d88b43bf85a3b20441ba370229"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba68c5d88b43bf85a3b20441ba370229">&#9670;&nbsp;</a></span>default_pose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int default_pose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to move the arm in the default position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<p>This function uses the output of the moveit setup assistant in order to set the robotic arm into the default position, that is a pose created with moveit. </p>

</div>
</div>
<a id="ada5a3bd00aa0de489085f99334d22d68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada5a3bd00aa0de489085f99334d22d68">&#9670;&nbsp;</a></span>high_pose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int high_pose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to move the arm in the high position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<p>This function uses the output of the moveit setup assistant in order to set the robotic arm into the high position, that is a pose created with moveit. </p>

</div>
</div>
<a id="ae8742f55cc6fb01cc646b1646808b1c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8742f55cc6fb01cc646b1646808b1c7">&#9670;&nbsp;</a></span>hint_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hint_callback </td>
          <td>(</td>
          <td class="paramtype">const exprob_ass2::ErlOracle::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function of the subscriber to the /oracle_hint topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>message that contains the hint </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>This is the callback function of the subscriber to the /oracle_hint topic. In this case the message is not collected but a variable is set to true when a message is recieved. </p>

</div>
</div>
<a id="aaab7523dc18170184179915b180cd87a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaab7523dc18170184179915b180cd87a">&#9670;&nbsp;</a></span>low_pose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int low_pose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to move the arm in the low position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<p>This function uses the output of the moveit setup assistant in order to set the robotic arm into the low position, that is a pose created with moveit. </p>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function of the start_game action. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<p>This is the main function of the start game_action, where the node is initialized and the subscriber of the oracle_hint is implemented. Moreover there is the StartGameInterface to execute the real action as an action of the rosplan. </p>

</div>
</div>
<a id="ac0eda1ee290b35c91ae3e8a4224c3083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0eda1ee290b35c91ae3e8a4224c3083">&#9670;&nbsp;</a></span>move_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void move_to </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>xpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ypos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>orientation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to make the robot move in the enviornment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xpos</td><td>x position in the environment </td></tr>
    <tr><td class="paramname">ypos</td><td>y position in the environment </td></tr>
    <tr><td class="paramname">orientation</td><td>desired orientation in the environment </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>This function implement an action client in order to make the robot move within the environment that allows also to stop immediatly the behavior of the robot when this node is stopped. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
